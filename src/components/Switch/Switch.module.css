/* Wrapper */
.switchWrapper {
  display: inline-flex;
  flex-direction: column;
  margin-bottom: 16px;

  &.disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  &.error {
    color: var(--color-error);

    .track {
      background-color: #ffcdd2;
    }

    .input:checked ~ .track {
      background-color: var(--color-error);
    }

    .input:focus ~ .track {
      box-shadow: 0 0 0 3px var(--color-error-20);
    }

    .switchContainer:hover .track {
      background-color: #ef9a9a;
    }

    .input:checked:hover ~ .track {
      background-color: var(--color-error-hover);
    }
  }
}

.switchContainer {
  display: flex;
  align-items: center;
  cursor: pointer;
}

.switchWrapper.disabled .switchContainer {
  cursor: not-allowed;
}

/* Input */
.input {
  position: absolute;
  opacity: 0;
  cursor: pointer;
  height: 0;
  width: 0;
}

/* Track */
.track {
  position: relative;
  width: 48px;
  height: 24px;
  border-radius: 12px;
  background-color: var(--color-border);
  transition: all 0.3s ease;
  flex-shrink: 0;

  .input:checked ~ & {
    background-color: var(--color-primary);
  }

  .input:focus ~ & {
    box-shadow: var(--focus-ring);
  }

  .input:checked:focus ~ & {
    box-shadow: var(--focus-ring);
  }

  .switchContainer:hover & :not(.disabled) {
    background-color: #b3b3b3;
  }

  .input:checked:hover ~ & {
    background-color: var(--color-primary-hover);
  }
}

/* Thumb */
.thumb {
  position: absolute;
  top: 2px;
  left: 2px;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background-color: var(--color-surface);
  transition: all 0.3s ease;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);

  .input:checked ~ .track & {
    left: 26px;
    background-color: var(--color-surface);
  }
}

/* Label */
.label {
  margin-left: 12px;
  font-size: 16px;
  color: var(--color-text);
  cursor: pointer;
  user-select: none;

  &.labelError {
    color: var(--color-error);
  }
}

.switchWrapper.disabled {
  .track {
    background-color: var(--color-disabled-bg);
  }
  .input:checked ~ .track {
    background-color: #bbdefb;
  }
  .thumb {
    background-color: #e0e0e0;
  }
}

/* Helper */
.helperText {
  margin-top: 4px;
  font-size: 12px;
  color: var(--color-text-muted);
  margin-left: 0;

  &.helperTextError {
    color: var(--color-error);
  }
}

/* Sizes */
.switchWrapper.small {
  .track {
    width: 36px;
    height: 18px;
  }
  .thumb {
    width: 14px;
    height: 14px;
    top: 2px;
    left: 2px;
  }
  .input:checked ~ .track .thumb {
    left: 20px;
  }
  .label {
    font-size: 14px;
  }
  .helperText {
    margin-left: 48px;
  }
}

.switchWrapper.large {
  .track {
    width: 60px;
    height: 30px;
  }
  .thumb {
    width: 26px;
    height: 26px;
    top: 2px;
    left: 2px;
  }
  .input:checked ~ .track .thumb {
    left: 32px;
  }
  .label {
    font-size: 18px;
  }
  .helperText {
    margin-left: 72px;
  }
}

/* Transitions */
.track {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.thumb {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Press effect */
.thumb:active {
  transform: scale(1.1);
}

.switchWrapper.disabled .thumb:active {
  transform: none;
}
